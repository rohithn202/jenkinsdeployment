node {
    stage ('checkout GIT') {
        git branch: 'main',
            credentialsId: 'Credential ID',
            url: 'https://github.com/username/repository.git'
    }
    stage ('Build docker image') {
        print('build stage')
    }
    stage ('Test') {
        print('test stage')
    }
    stage ('deploy') {
        sh "docker run -d -p 80:80 myapp:${version}"
    }
}